import{r,j as e,Y as x,q as S,$ as w}from"./app-_DDYpFLa.js";import{l as C,m as R}from"./app-layout-Bh4pCS3N.js";import{S as y}from"./index-u10PHfQ5.js";import{B as g}from"./app-logo-icon-DvC74jjr.js";import{A as p,u as F,f as j,g as T,a as M,b as P}from"./index-CQD8iKif.js";import{T as b,d as V,b as m,e as D,a as v,c as i}from"./table-5QQ1hb2E.js";/* empty css            */import"./createLucideIcon-C-AzlSK0.js";import"./index-Bgjn7g7b.js";import"./index-Bc_YMHSV.js";function E({value:s,onChange:a,debounce:o=500,...u}){const[n,c]=r.useState(s);return r.useEffect(()=>{c(s)},[s]),r.useEffect(()=>{const d=setTimeout(()=>{a(n)},o);return()=>clearTimeout(d)},[n,a,o]),e.jsx("input",{...u,value:n,onChange:d=>c(d.target.value)})}function k({collections:s}){var f;const[a,o]=r.useState([]),[u,n]=r.useState(""),c=r.useMemo(()=>[{accessorKey:"name",header:({column:t})=>e.jsx("div",{className:"flex flex-col items-start",children:e.jsxs(g,{variant:"ghost",onClick:()=>t.toggleSorting(t.getIsSorted()==="asc"),children:["Collection name",e.jsx(p,{className:"ml-2 h-4 w-4"})]})}),cell:({row:t})=>e.jsx("div",{className:"text-left font-medium",children:e.jsx(x,{href:route("collection.show",t.getValue("id")),className:"flex items-center px-4 focus:outline-none",children:t.getValue("name")})}),enableSorting:!0,filterFn:"includesStringSensitive"},{accessorKey:"display_code",header:({column:t})=>e.jsx("div",{className:"flex flex-col items-start",children:e.jsxs(g,{variant:"ghost",onClick:()=>t.toggleSorting(t.getIsSorted()==="asc"),children:["Code",e.jsx(p,{className:"ml-2 h-4 w-4"})]})}),cell:({row:t})=>e.jsx("div",{className:"text-left font-medium",children:e.jsx(x,{href:route("collection.show",t.getValue("id")),className:"flex items-center px-4 focus:outline-none",children:t.getValue("display_code")})}),enableSorting:!0,filterFn:"includesStringSensitive"},{accessorKey:"path",header:()=>e.jsx("div",{className:"flex flex-col items-start",children:e.jsx("div",{className:"text-left py-2 px-4",children:"R* Path"})}),cell:({row:t})=>e.jsx("div",{className:"text-left font-medium",children:e.jsx(x,{href:route("collection.show",t.getValue("id")),className:"flex items-center px-4 focus:outline-none",children:t.getValue("path")})})},{accessorKey:"id",header:()=>e.jsx(e.Fragment,{}),cell:({row:t})=>e.jsx(x,{href:route("collection.show",t.getValue("id")),className:"flex items-center px-4 focus:outline-none",children:e.jsx(C,{size:24,className:"text-gray-400"})})}],[]),[d,N]=r.useState(s);r.useEffect(()=>{N(s)},[s]);const h=F({data:d,columns:c,state:{columnFilters:a,globalFilter:u},initialState:{columnOrder:["name","code"],sorting:[{id:"name",desc:!1}]},onColumnFiltersChange:o,onGlobalFilterChange:n,globalFilterFn:"includesString",getCoreRowModel:P(),getFilteredRowModel:M(),getSortedRowModel:T()});return e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center py-4",children:e.jsx(E,{value:u??"",onChange:t=>n(String(t)),className:"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm max-w-sm",placeholder:"Find by collection name or code..."})}),e.jsx("div",{className:"rounded-md border",children:e.jsxs(b,{children:[e.jsx(V,{children:h.getHeaderGroups().map(t=>e.jsx(m,{children:t.headers.map(l=>e.jsx(D,{children:l.isPlaceholder?null:j(l.column.columnDef.header,l.getContext())},l.id))},t.id))}),e.jsx(v,{children:(f=h.getRowModel().rows)!=null&&f.length?h.getRowModel().rows.map(t=>e.jsx(m,{"data-state":t.getIsSelected()&&"selected",children:t.getVisibleCells().map(l=>e.jsx(i,{children:j(l.column.columnDef.cell,l.getContext())},l.id))},t.id)):e.jsx(m,{children:e.jsx(i,{colSpan:c.length,className:"h-24 text-center",children:"No results."})})})]})})]})}function z(){const{partner:s}=S().props,{collections:a}=s,o=[{title:"Partners",href:"/dashboard"},{title:s.name,href:`/partners/${s.id}`}];return e.jsxs(R,{breadcrumbs:o,children:[e.jsx(w,{title:s.name}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4 overflow-x-auto",children:[e.jsx("h4",{className:"scroll-m-20 text-xl font-semibold tracking-tight",children:s.name}),e.jsx("div",{className:"rounded-md border",children:e.jsx(b,{children:e.jsxs(v,{children:[e.jsxs(m,{children:[e.jsx(i,{className:"font-medium",children:"Code"}),e.jsx(i,{children:s.code})]}),e.jsxs(m,{children:[e.jsx(i,{className:"font-medium",children:"R* Path"}),e.jsx(i,{children:s.path})]})]})})}),e.jsx(y,{}),e.jsx("h5",{className:"scroll-m-20 text-l font-semibold tracking-tight",children:"Partner collections"}),e.jsx(k,{collections:a})]})]})}export{z as default};
